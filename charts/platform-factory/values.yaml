# Default values for platform-factory.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Prefix for resources in shared namespaces(istio, flux, etc)
prefix: "factory"
# Override .Release.Name
nameOverride: ""
# Override all naming. Ignores `prefix`
fullnameOverride: ""

components:
  flux:
    enabled: true
    interval: 10m
    namespace: flux-system
  # cert-manager Configuration
  certManager:
    # Enable cert-manager Resources
    enabled: true
    # Certificate `issuerRef``
    issuerRef: {}
  istio:
    enabled: true
    namespace: "system-istio"
    components:
      gateway:
        enabled: true
        # Istio Ingress Gateway Namespace for Apps
        namespace: system-istio-gateway
        # For `app` label selector
        name: ingress
        # Selector - Defaults to `{ app: [name] }`
        selector: {}
  privatebin:
    enabled: false
    name: "privatebin"
    namespace:
      create: true
      name: ""
    host: ""
    chart:
      version: "0.17.0"
      source:
        kind: HelmRepository
        # uses chart's included helm repository name
        name: ""
    annotations: {}
    nodeSelector: {}
    tolerations: []
    affinity: {}
    labels: {}
    overrideValues: {}
  jupyterhub:
    enabled: false
    name: "jupyterhub"
    namespace:
      create: true
      name: ""
    host: ""
    chart:
      version: "2.0.0"
      source:
        kind: HelmRepository
        # uses chart's included helm repository name
        name: ""
    # Metadata and scheduling tags
    # be defined on any component as well
    annotations: {}
    nodeSelector: {}
    tolerations: []
    affinity: {}
    labels: {}
    # Auth is built off of GenericOAuthenticator implementation
    # which is the suggested implementation going forward. Override
    # with `overrideValues`
    # config for https://github.com/jupyterhub/oauthenticator/blob/main/examples/generic/README.md
    # Use above secret configs for
    auth:
      enabled: false
      clientId:
        key: ""
        name: ""
      clientSecret:
        key: ""
        name: ""
      cryptKey:
        key: ""
        name: ""
      # authorize_url: https://your-domain.us.auth0.com/authorize
      # token_url: https://your-domain.us.auth0.com/oauth/token
      # userdata_url: https://your-domain.us.auth0.com/userinf
    overrideValues: {}

  helmRepositories:
    components:
      privatebin:
        name: privatebin
        url: https://privatebin.github.io/helm-chart
        enabled: true
      jupyterhub:
        name: jupyterhub
        url: https://jupyterhub.github.io/helm-chart
        enabled: true

global:
  affinity: {}
  annotations: {}
  labels: {}
  nodeSelector: {}
  tolerations: []
  istioEnabled: true
  skyfjell:
    validate:
      api: true
