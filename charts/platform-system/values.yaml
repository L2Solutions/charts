# Supported Values: `flux`
# TODO: Support `argo`
solution:
  name: flux
  interval: 10m
  namespace: flux-system

# Prefix for global resources. Defaults to `namespace` if unset.
prefix: ""

components:
  certManager:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: cert-manager
    # version of the chart
    version: "1.8.2"
    # webhook component securePort
    webhookSecurePort: 10260
    # annotations on all components
    annotations: {}
    # annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}
  externalDns:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: external-dns
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "6.7.2"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-bitnami
    # annotations on all components
    annotations: {}
    # annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}
  istio:
    # enable this component
    enabled: true
    # namespace to target for all HelmReleases
    namespace: istio-system
    # mTLSMode options here are UNSET, DISABLE, PERMISSIVE, and STRICT
    mTLSMode: "STRICT"
    # annotations for istio components
    annotations: {}
    # serviceAccountAnnotations for istio components
    serviceAccountAnnotations: {}
    # nodeSelector for istio components
    nodeSelector: {}
    # tolerations for istio components
    tolerations: []
    # affinity for istio components
    affinity: {}
    # source of helm release
    source:
      create: true
      # type: HelmRepository
      # url: https://istio-release.storage.googleapis.com/charts
    # chart config for HelmReleases
    chart:
      # version for istio components. Istio keeps components in sync
      version: "1.15.1"
      source:
        kind: HelmRepository
        repository: platform-system-istio
    # component of full istio install
    component:
      # base istio chart release
      base:
        # create the base chart via HelmRelease. The base chart installs CRDs and RBAC
        create: true
        # chart spec
        chart:
          # name of chart
          name: base
          # version of base, defaults to .Values.components.istio.chart.version
          version: ""
          # source of helm release, defaults to .Values.components.istio.chart.source
          # source:
          #   kind: ""
          #   repository: ""
          source: {}
        # crds policies
        crds:
          install: Create
          update: CreateReplace
        # values override HelmRelease values
        values: {}
      # istiod istio chart release
      istiod:
        # create the base chart via HelmRelease. The base chart installs CRDs and RBAC
        create: true
        # chart spec
        chart:
          # name of chart
          name: istiod
          # version of base, defaults to .Values.components.istio.chart.version
          version: ""
          # source of helm release, defaults to .Values.components.istio.chart.source
          # source:
          #   kind: ""
          #   repository: ""
          source: {}
        # values override HelmRelease values
        values: {}
      # gateway istio chart release
      gateway:
        # create the base chart via HelmRelease. The base chart installs CRDs and RBAC
        create: true
        # chart spec
        chart:
          # name of chart
          name: gateway
          # version of base, defaults to .Values.components.istio.chart.version
          version: ""
          # source of helm release, defaults to .Values.components.istio.chart.source
          # source:
          #   kind: ""
          #   repository: ""
          source: {}
        # values override HelmRelease values
        values: {}
      # config chart from skyfjell
      config:
        create: true
        chart:
          version: "0.0.3"
  kyverno:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: kyverno
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "2.5.1"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-kyverno
    # annotations on all components
    annotations: {}
    # serviceAccountAnnotations: annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}
  kyvernoPolicies:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: kyverno
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "2.5.1"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-kyverno
    # podSecurityStandard for kyverno
    podSecurityStandard: "baseline"
    # values level overrides for helm chart
    values: {}
  minioOperator:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: minio-operator
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "4.4.27"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-minio
    # annotations on all components
    annotations: {}
    # serviceAccountAnnotations: annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}
  minioTenant:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: minio-tenant
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "4.4.27"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-minio
    # storageClassName for minio instance
    storageClassName: default
    # annotations on all components
    annotations: {}
    # serviceAccountAnnotations: annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}
  vaultOperator:
    # enable this component
    enabled: true
    # istioEnabled for istio integrations
    istioEnabled: true
    # namespace to be launched in
    namespace: vault-operator
    # chart config for HelmReleases
    chart:
      # version of the chart
      version: "1.16.1"
      # source of the chart
      source:
        kind: HelmRepository
        repository: platform-system-banzaicloud
    # annotations on all components
    annotations: {}
    # serviceAccountAnnotations: annotations on service account
    serviceAccountAnnotations: {}
    # nodeSelector on all components
    nodeSelector: {}
    # tolerations on all components
    tolerations: []
    # affinity on all components
    affinity: {}
    # values level overrides for helm chart
    values: {}

# Global Pod Assignment
global:
  affinity: {}
  istioEnabled: true
  nodeSelector: {}
  tolerations: []

# Skyfjell Flux HelmRepository Reference
helmRepository:
  name: skyfjell
  namespace: flux-system
